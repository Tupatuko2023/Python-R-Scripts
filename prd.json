{
  "branchName": "ralph/fof-improvements",
  "userStories": [
    {
      "id": "RALPH-001",
      "title": "Validate Ralph bootstrap setup",
      "description": "Verify that Ralph can read prd.json, checkout branch, and update progress.txt correctly. This is a smoke-test story to confirm the Ralph loop works.",
      "priority": 99,
      "passes": true,
      "acceptanceCriteria": [
        "Ralph reads this PRD successfully",
        "Ralph creates/checks out the branch specified in branchName",
        "Ralph appends a progress entry to progress.txt",
        "No errors in ralph.sh output"
      ]
    },
    {
      "id": "FOF-001",
      "title": "Audit Kxx scripts for standard intro compliance",
      "description": "Review all K*.R scripts in Fear-of-Falling/ to check if they have the mandatory STANDARD SCRIPT INTRO block as defined in CLAUDE.md. Create a checklist in progress.txt showing which scripts are compliant and which need updates. Work from Fear-of-Falling/ directory.",
      "priority": 1,
      "passes": true,
      "acceptanceCriteria": [
        "List of all K*.R scripts found",
        "Each script checked for: shebang, metadata block, script_label, init_paths(), req_cols",
        "Compliance summary added to progress.txt Codebase Patterns",
        "No code changes in this story - audit only"
      ]
    },
    {
      "id": "FOF-002",
      "title": "Verify manifest/output directory structure",
      "description": "Check that the R-scripts/ directory structure follows the convention: R-scripts/<script_label>/outputs/. Verify manifest/manifest.csv exists or document that it needs to be created. Work from Fear-of-Falling/ directory.",
      "priority": 2,
      "passes": true,
      "acceptanceCriteria": [
        "Document current R-scripts/ directory structure",
        "Check if manifest/manifest.csv exists",
        "List any scripts that write outputs to non-standard locations",
        "Add findings to progress.txt"
      ]
    },
    {
      "id": "FOF-003",
      "title": "Document renv status and R package dependencies",
      "description": "Check if renv.lock exists in Fear-of-Falling/ and document its status. Run renv::status() if possible and record the output. This helps ensure reproducibility. Work from Fear-of-Falling/ directory.",
      "priority": 3,
      "passes": true,
      "acceptanceCriteria": [
        "Check for renv.lock, renv/, .Rprofile",
        "Document R version requirements if found",
        "List key packages used by Kxx scripts",
        "Add reproducibility notes to progress.txt"
      ]
    },
    {
      "id": "FOF-004",
      "title": "Fix manifest coverage for K*_MAIN outputs",
      "description": "Add missing manifest entries for 48 output files. Audit found K01_MAIN through K17_MAIN have outputs not tracked in manifest/manifest.csv. Each artifact needs exactly one manifest row (timestamp, script, name, type, path, rows, notes).",
      "priority": 4,
      "passes": false,
      "acceptanceCriteria": [
        "All files in K01_MAIN through K17_MAIN/outputs/ have manifest entries",
        "All files in K5, K6, K7, K8, K9/outputs/ have manifest entries",
        "Manifest coverage reaches 95%+ (from current 84.5%)",
        "No duplicate entries added"
      ]
    },
    {
      "id": "FOF-005",
      "title": "Create outputs/ directories for K2, K4, K10",
      "description": "Three legacy script folders lack the standard outputs/ subdirectory: K2, K4, K10. Create the directories and add .gitkeep files to ensure Git tracks them.",
      "priority": 5,
      "passes": false,
      "acceptanceCriteria": [
        "R-scripts/K2/outputs/.gitkeep exists",
        "R-scripts/K4/outputs/.gitkeep exists",
        "R-scripts/K10/outputs/.gitkeep exists",
        "audit_outputs_structure.csv shows 0 folders without outputs dir"
      ]
    },
    {
      "id": "FOF-006",
      "title": "Modernize standard intro for MINIMAL compliance scripts",
      "description": "Upgrade legacy scripts with MINIMAL compliance to at least PARTIAL. Target scripts: K1.Z_Score_Change_2G_v4.R, K10.R, K8.R, K1.5, K3.6, K9.R, K1.6. Add shebang, header block, and workflow comments per CLAUDE.md standard.",
      "priority": 6,
      "passes": false,
      "acceptanceCriteria": [
        "All 7 MINIMAL scripts upgraded to PARTIAL or better",
        "Each script has: shebang, header block with SCRIPT_ID, workflow comments",
        "No functional code changes - header/metadata only",
        "Re-run audit shows 0 MINIMAL compliance scripts"
      ]
    }
  ]
}
